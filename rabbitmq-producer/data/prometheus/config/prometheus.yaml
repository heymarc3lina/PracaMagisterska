global:
  scrape_interval: 5s
  evaluation_interval: 5s
#
scrape_configs:
  - job_name: 'serviceA_service'
    metrics_path: '/actuator/prometheus'
    dns_sd_configs:
      - names:
          - serviceA  # goes here
        type: A
        port: 8084
#
  - job_name: 'serviceB_service'
    metrics_path: '/actuator/prometheus'
    dns_sd_configs:
      - names:
        - serviceB  # goes here
        type: A
        port: 8085

  - job_name: 'producer_service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'producer:8083' ]
        labels:
          application: 'producer Application'

  - job_name: 'rabbitmq'
    metrics_path: '/metrics'
    scrape_interval: 5s
    static_configs:
      - targets: [ 'rabbitmq:15692' ]